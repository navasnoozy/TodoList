(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(n){if(n.ep)return;n.ep=!0;const c=s(n);fetch(n.href,c)}})();const r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).slice(1));function E(e,t=0){return(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase()}let f;const L=new Uint8Array(16);function v(){if(!f){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");f=crypto.getRandomValues.bind(crypto)}return f(L)}const k=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),y={randomUUID:k};function b(e,t,s){if(y.randomUUID&&!t&&!e)return y.randomUUID();e=e||{};const o=e.random||(e.rng||v)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,E(o)}const T=document.getElementById("taskForm"),i=document.getElementById("taskList"),u=document.getElementById("newTask"),h=document.getElementById("searchForm"),x=document.getElementById("clear-all");T.addEventListener("submit",D);i.addEventListener("click",w);h.addEventListener("submit",N);h.addEventListener("click",I);x.addEventListener("click",A);const a=U();a.forEach(e=>m(e));function D(e){if(e.preventDefault(),u.value===null||u.value=="")return;const t={id:b(),title:u.value,completed:!1,createdAtTime:new Date().toLocaleTimeString("en-US",{timeStyle:"short"}),createdAtDate:new Date().toLocaleDateString("en-US",{dateStyle:"medium"})};a.push(t),g(),m(t),u.value=""}function m(e){const t=document.createElement("li");t.className="task-item";const s=document.createElement("input");s.type="checkbox",s.className="task-checkbox",s.checked=e.completed,e.completed&&t.classList.toggle("completed"),s.addEventListener("change",()=>{e.completed=s.checked,t.classList.toggle("completed"),g()});const o=document.createElement("label");o.className="task-label",o.textContent=e.title;const n=document.createElement("span"),c=document.createElement("p"),l=document.createElement("p");n.className="time",c.textContent=e.createdAtTime,l.textContent=e.createdAtDate;const d=document.createElement("button");d.className="task-delete-btn";const p=document.createElement("span");p.className="material-icons",p.textContent="delete",d.id=e.id,d.append(p),t.append(s),t.append(o),n.append(c),n.append(l),t.append(n),t.append(d),i.append(t)}function g(){localStorage.setItem("TASKS",JSON.stringify(a))}function U(){const e=localStorage.getItem("TASKS");return e===null?[]:JSON.parse(e)}function w(e){const s=e.target.closest(".task-delete-btn");if(s){const o=s.id,n=a.findIndex(c=>c.id===o);if(n!==-1){a.splice(n,1),g();const c=s.closest(".task-item");c==null||c.remove()}}}function A(){confirm("Are you sure you want to delete all task?")&&(localStorage.removeItem("TASKS"),i.innerHTML="")}const S=document.querySelector(".search-input");function N(e){e.preventDefault();const t=S.value.toLowerCase().trim(),s=a.filter(o=>o.title.toLowerCase().includes(t));i.innerHTML="",s.forEach(o=>m(o))}function I(e){e.preventDefault(),S.value="",i.innerHTML="",a.forEach(t=>m(t))}
